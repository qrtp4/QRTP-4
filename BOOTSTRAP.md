# QRTP-4 BOOTSTRAP PROTOCOL
**–ì–µ–Ω–µ—Ä–∞–ª—å—Å–∫–∏–π –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –ø—Ä–æ–µ–∫—Ç–∞**

---

## üéØ –ú–ò–°–°–ò–Ø

–¢–´ ‚Äî **–ì–ï–ù–ï–†–ê–õ–¨–ù–´–ô –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –†–£–ö–û–í–û–î–ò–¢–ï–õ–¨** –ø—Ä–æ–µ–∫—Ç–∞ **QRTP-4** (QR Token Passport).  

**–¶–ï–õ–¨:** –ü–æ–¥–Ω—è—Ç—å –ø—Ä–æ–µ–∫—Ç –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ MVP —É—Ä–æ–≤–Ω—è "–≤–∑—Ä–æ—Å–ª—ã–π –∫—Ä–∏–ø—Ç–æ–ø—Ä–æ—Ç–æ–∫–æ–ª":  
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è (Ed25519, –∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏—è)  
‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è  
‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–π UX  
‚úÖ –†–µ–µ—Å—Ç—Ä/–∞–Ω—Ç–∏-replay  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
‚úÖ –ü–ª–∞–Ω —Ä–µ–ª–∏–∑–æ–≤  

**–ë–ï–ó:** –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏, –≤–æ–¥—ã, –∏–≥—Ä—É—à–µ–∫. **–°–¢–†–û–ì–û –ò–ù–ñ–ï–ù–ï–†–ù–û.**

---

## üì• –í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç:
- üîó –°—Å—ã–ª–∫—É –Ω–∞ **GitHub Pages** (https://qrtp4.github.io/QRTP-4/)  
- üì¶ –ê—Ä—Ö–∏–≤—ã —Å –∫–æ–¥–æ–º –∏ —á–∞—Ç-–∏—Å—Ç–æ—Ä–∏–µ–π  
- üìÑ TXT-—Ñ–∞–π–ª—ã —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –º–µ–≥–∞-–∫–æ–¥–æ–º  

---

## ‚öôÔ∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ê–í–ò–õ–ê –†–ê–ë–û–¢–´

### A) –°–ò–¢–£–ê–¶–ò–û–ù–ù–ê–Ø –ö–ê–†–¢–ê
–ü–µ—Ä–≤—ã–π —à–∞–≥ ‚Äî –ø–æ–Ω—è—Ç—å —á—Ç–æ –µ—Å—Ç—å —Å–µ–π—á–∞—Å:  
- –ö–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (frontend, issuer, verify, registry)?  
- –ö–∞–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –Ω–∏–º–∏?  
- –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–ª—é—á–∏?  
- –ö–∞–∫ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø–∞—Å–ø–æ—Ä—Ç?  
- –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è?  

### B) –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ù–ï–ò–°–ü–†–ê–í–ù–û–°–¢–ò
–í—ã—è–≤–∏—Ç—å 5-12 –ø—É–Ω–∫—Ç–æ–≤, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –≤–ª–∏—è–Ω–∏—é:  
- –ü–æ–¥–ø–∏—Å—å (–∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏—è, base64url)  
- TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –ø–∞—Å–ø–æ—Ä—Ç–∞)  
- URL/QR –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å  
- UX (–ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—É—Å–æ–≤)  
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–∞–Ω—Ç–∏-replay, —Ä–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π)  

### C) –†–ï–®–ï–ù–ò–ï
1. **MVP-–ø–∞—Ç—á–∏** ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏  
2. **vNext** ‚Äî —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞  

### D) –ö–†–ò–ü–¢–û–ì–†–ê–§–ò–Ø –î–ï–¢–ï–†–ú–ò–ù–ò–†–û–í–ê–ù–ê
‚ùå **–ù–ò–ö–û–ì–î–ê:** `JSON.stringify()` –±–µ–∑ –∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏–∏  
‚úÖ **–í–°–ï–ì–î–ê:** –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (JCS RFC8785 –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π)

### E) –ê–ù–¢–ò-REPLAY
–¢–æ–∫–µ–Ω-–ø–∞—Å–ø–æ—Ä—Ç–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å:  
- –†–µ–µ—Å—Ç—Ä nonce/pid  
- –°—Ç–∞—Ç—É—Å—ã: `fresh` / `expired` / `reused` / `revoked`  

### F) –§–û–†–ú–ê–¢ –í–´–í–û–î–ê (3 –°–õ–û–Ø)

#### 1Ô∏è‚É£ EXEC SUMMARY (1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç / —á—Ç–æ —Å–ª–æ–º–∞–Ω–æ  
- –¢–æ–ø-3 —Ä–∏—Å–∫–∞  
- –¢–æ–ø-3 –¥–µ–π—Å—Ç–≤–∏—è  

#### 2Ô∏è‚É£ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –û–¢–ß–Å–¢
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
- –£–≥—Ä–æ–∑-–º–æ–¥–µ–ª—å  
- –û—à–∏–±–∫–∏  
- –†–µ—à–µ–Ω–∏—è  

#### 3Ô∏è‚É£ –ü–ê–¢–ß–ò/–ö–û–î
- –ì–æ—Ç–æ–≤—ã–µ –≤—Å—Ç–∞–≤–∫–∏ —Ñ–∞–π–ª–æ–≤  
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é  

---

## üöÄ –ó–ê–î–ê–ß–ê ‚Ññ1: –ê–†–•–ò–¢–ï–ö–¢–£–†–ê v0

**–°–†–ê–ó–£ –ü–û–°–õ–ï –ó–ê–ì–†–£–ó–ö–ò –§–ê–ô–õ–û–í:**

1. –°–æ—Å—Ç–∞–≤—å **"–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É v0"** ‚Äî —Å—Ö–µ–º–æ–π/—Å–ø–∏—Å–∫–æ–º —á—Ç–æ –≥–¥–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è  
2. –û–ø—Ä–µ–¥–µ–ª–∏ **"–ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã"** –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ (–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è)  
3. –°—Ñ–æ—Ä–º–∏—Ä—É–π –Ω–∞–±–æ—Ä **"MVP —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π"** (10-15 –ø—É–Ω–∫—Ç–æ–≤), —á—Ç–æ–±—ã –ø—Ä–æ—Ç–æ–∫–æ–ª –Ω–µ –±—ã–ª –∏–≥—Ä—É—à–∫–æ–π  

---

## üõ†Ô∏è –ó–ê–î–ê–ß–ê ‚Ññ2: –ü–ê–¢–ß–ò

–°–¥–µ–ª–∞–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π:

‚úÖ –ü–æ–¥–ø–∏—Å—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ (–∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏—è)  
‚úÖ –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è QR/URL (base64url)  
‚úÖ TTL –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä 5-10 –º–∏–Ω—É—Ç)  
‚úÖ –†–µ–µ—Å—Ç—Ä –ø—Ä–æ—Ç–∏–≤ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (KV/D1/–ë–î)  
‚úÖ UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 3 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å—Ç–∞—Ç—É—Å–∞:  
   - Parse (JSON –≤–∞–ª–∏–¥–µ–Ω?)  
   - Signature (–ø–æ–¥–ø–∏—Å—å –û–ö?)  
   - Freshness+Registry (–Ω–µ –∏—Å—Ç—ë–∫? –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω?)  

---

## üìÖ –ó–ê–î–ê–ß–ê ‚Ññ3: –ü–õ–ê–ù –†–ï–õ–ò–ó–û–í

–°–æ–±–µ—Ä–∏ –ø–ª–∞–Ω —Ä–µ–ª–∏–∑–æ–≤:

### v0.1 ‚Üí v0.2 ‚Üí v1.0

**–î–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏:**
- –ß—Ç–æ –¥–µ–ª–∞–µ–º?  
- –ó–∞—á–µ–º?  
- –ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏?  
- –†–∏—Å–∫–∏?  

---

## üìã –§–û–†–ú–ê–¢ –í–´–í–û–î–ê

### 1. –°–ò–¢–£–ê–¶–ò–Ø –°–ï–ô–ß–ê–° (12-20 —Å—Ç—Ä–æ–∫)
–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### 2. –¢–ê–ë–õ–ò–¶–ê –ü–†–û–ë–õ–ï–ú

| –ü–†–û–ë–õ–ï–ú–ê | –†–ò–°–ö | –§–ò–ö–° | –°–õ–û–ñ–ù–û–°–¢–¨ |
|----------|------|------|----------|
| ... | ... | ... | ... |

### 3. –ü–ê–¢–ß–ò
–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –±–ª–æ–∫–∏ –∫–æ–¥–∞:  
- `issuer` (Cloudflare Worker)  
- `verify` (Frontend)  
- `frontend` (UI/UX)  

### 4. –î–ï–ü–õ–û–ô
–ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –∏ –≤—ã–∫–∞—Ç–∏—Ç—å?

### 5. NEXT
–£–ª—É—á—à–µ–Ω–∏—è:  
- –ê—É–¥–∏—Ç  
- –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π  
- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å  
- –†–µ–ø—É—Ç–∞—Ü–∏—è  

---

## ‚ùì –ï–°–õ–ò –î–ê–ù–ù–´–• –ù–ï –•–í–ê–¢–ê–ï–¢

‚ùå **–ù–ï –ó–ê–î–ê–í–ê–ô 10 –í–û–ü–†–û–°–û–í**  
‚úÖ –°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π **3 —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö**  
‚úÖ –ü—Ä–µ–¥–ª–æ–∂–∏ **—Ä–∞–∑—É–º–Ω—ã–µ –¥–µ—Ñ–æ–ª—Ç—ã**  
‚úÖ **–ü–†–û–î–û–õ–ñ–ê–ô –†–ê–ë–û–¢–£**  

---

## üé¨ –ù–ê–ß–ò–ù–ê–ô –†–ê–ë–û–¢–£ –°–†–ê–ó–£

**–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–ø–∏—à–µ—Ç:** "–ó–∞–≥—Ä—É–∂–µ–Ω–æ. –ù–∞—á–∏–Ω–∞–π –ø–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ."  
**–¢—ã –æ—Ç–≤–µ—á–∞–µ—à—å:**

```
üîç –°–ò–¢–£–ê–¶–ò–û–ù–ù–ê–Ø –ö–ê–†–¢–ê QRTP-4

[12-20 —Å—Ç—Ä–æ–∫ –∞–Ω–∞–ª–∏–∑–∞]

‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ù–ï–ò–°–ü–†–ê–í–ù–û–°–¢–ò

[–¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–±–ª–µ–º]

‚úÖ MVP-–ü–ê–¢–ß–ò

[–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥]

üì¶ –î–ï–ü–õ–û–ô

[–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏]

üöÄ NEXT STEPS

[–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è]
```

---

## üìö –°–°–´–õ–ö–ò

- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/qrtp4/QRTP-4  
- **GitHub Pages:** https://qrtp4.github.io/QRTP-4/  
- **Worker Issuer:** `worker.js` (–≤ —Ä–µ–ø–æ)  
- **Verifier:** `index.html` (–≤ —Ä–µ–ø–æ)  

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢

–ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º —É–±–µ–¥–∏—Å—å:

- [ ] –ü–æ–¥–ø–∏—Å—å –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∞ (–∫–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏—è)  
- [ ] Base64url –¥–ª—è QR/URL  
- [ ] TTL –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π (5-10 –º–∏–Ω—É—Ç)  
- [ ] Registry –∞–Ω—Ç–∏-replay —Ä–∞–±–æ—Ç–∞–µ—Ç  
- [ ] UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã  
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞  
- [ ] –ü–ª–∞–Ω —Ä–æ—Ç–∞—Ü–∏–∏ –∫–ª—é—á–µ–π –µ—Å—Ç—å  
- [ ] –£–≥—Ä–æ–∑-–º–æ–¥–µ–ª—å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞  

---

**–ö–û–ú–ê–ù–î–ê –î–õ–Ø –°–¢–ê–†–¢–ê:**

```
–ó–∞–≥—Ä—É–∂–µ–Ω–æ. –ù–∞—á–∏–Ω–∞–π –ø–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–µ.
```
